<!DOCTYPE html>
{% load static %}
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- Favicons -->
    <link href="{% static 'webapp/assets/img/favicon.png' %}" rel="icon">
    <link href="{% static 'webapp/assets/img/apple-touch-icon.png' %}" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link
            href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
            rel="stylesheet">

    <!-- Vendor CSS Files -->

    <link href="{% static 'webapp/assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'webapp/assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
    <link href="{% static 'webapp/assets/vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
    <link href="{% static 'webapp/assets/vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
    <link href="{% static 'webapp/assets/vendor/remixicon/remixicon.css' %}" rel="stylesheet">
    <link href="{% static 'webapp/assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="{% static 'webapp/assets/css/style.css' %}" rel="stylesheet">

    <!-- =======================================================
    * Template Name: Tempo - v4.10.0
    * Template URL: https://bootstrapmade.com/tempo-free-onepage-bootstrap-theme/
    * Author: BootstrapMade.com
    * License: https://bootstrapmade.com/license/
    ======================================================== -->

    <link rel="stylesheet" href="{% static 'webapp/bootstrap/bootstrap.min.css' %}" media="screen">

    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500&display=swap" rel="stylesheet">

</head>

<body>

{% include 'webapp/header.html' %}
{% include 'webapp/hero.html' %}


<main id="main">

    {% include 'webapp/about.html' %}
    {% include 'webapp/services.html' %}
    {% include 'webapp/features.html' %}

    {% include 'webapp/cta.html' %}
    {% include 'webapp/portfolio.html' %}
    {% include 'webapp/pricing.html' %}
    {% include 'webapp/faq.html' %}
    {% include 'webapp/team.html' %}
    {% include 'webapp/contact.html' %}

</main><!-- End #main -->

{% include 'webapp/footer.html' %}

<a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
        class="bi bi-arrow-up-short"></i></a>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">정보 입력</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form action="{% url 'webapp:createform' %}" class="robot_input">
                    <div class="modalForm">
                        <div>
                            <div>
                                배터리<input type="text" name="battery" id="batteryInput">
                            </div>
                            <br>
                            <div>
                                경과 시간<input type="text" name="runtime" id="runtimeInput">
                            </div>
                            <br>
                            <div>
                                색상<input type="color" name="color" id="colorInput">
                            </div>
                        </div>

                        <div class="buttonArea">
                            <div>
                                <button type="submit" class="btn btn-primary">입력</button>
                            </div>
                            <div class="inputButton">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
                            </div>
                        </div>
                    </div>
                </form>

            </div>

        </div>
    </div>
</div>

<!-- Login modal -->
<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Log In</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body logmodalbody">
                <div>
                    {% include 'webapp/login_temp.html' %}

                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- Logout modal -->
<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="logoutModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="logoutModalLabel">Log Out</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="logoutmodalbody">
                <div class="logout_temp"></div>
                <div id="logout_tdiv"><h3 id="logout_text">로그아웃 되었습니다.</h3></div>
            </div>
            <div class="modal-footer">
                <form action="{% url 'webapp:logout' %}" method="post" class="col-md-4 logout_button">
                    {% csrf_token %}
                    <input type="submit" value="확인">
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Vendor JS Files -->
<script src="{% static 'webapp/assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'webapp/assets/vendor/glightbox/js/glightbox.min.js' %}"></script>
<script src="{% static 'webapp/assets/vendor/isotope-layout/isotope.pkgd.min.js' %}"></script>
<script src="{% static 'webapp/assets/vendor/swiper/swiper-bundle.min.js' %}"></script>
<script src="{% static 'webapp/assets/vendor/php-email-form/validate.js' %}"></script>

<!-- Template Main JS File -->
<script src="{% static 'webapp/assets/js/main.js' %}"></script>


<script>
    const bat_fig = document.querySelector('#bat-fig').innerText
    document.querySelector('#bat_prog').style.width = `${bat_fig}%`


    const bat_prog = document.querySelector('#bat_prog')
    const color_box = document.querySelector('.color_box_input')
        if(bat_fig < 21){
            bat_prog.style.backgroundColor = "#ff0000";
        }else if(bat_fig < 41){
            bat_prog.style.backgroundColor = "#ff8000";
        }else if(bat_fig < 61){
            bat_prog.style.backgroundColor = "#ffff00";
        }else if(bat_fig < 81){
            bat_prog.style.backgroundColor = "#80ff00";
        }else if(bat_fig <= 100){
            bat_prog.style.backgroundColor = "#00ff00";
        }

    let runtime_info = document.querySelector('#runtime_info')
    let second = parseInt(parseInt(runtime_info.innerText) / 1000);

    let minute = parseInt(second / 60);
    second = second % 60;

    let hour   = parseInt(minute / 60);
    minute = minute % 60;

    let result = '';
    if (hour > 0){
       result += hour + '시간 ';
    }
    if (minute > 0){
       result += minute + '분 ';
    }
    if (second > 0){
       result += second + '초';
    }
    runtime_info.innerText = result;

    document.querySelector('.robot_input').addEventListener('submit', (e) => {
        const bat_fig = e.target.battery.value
        bat_prog.style.width = `${bat_fig}%`

        if(bat_fig < 21){
            bat_prog.style.backgroundColor = "#ff0000";
            color_box.value = "#ff0000";
        }else if(bat_fig < 41){
            bat_prog.style.backgroundColor = "#ff8000";
            color_box.value = "#ff8000";
        }else if(bat_fig < 61){
            bat_prog.style.backgroundColor = "#ffff00";
            color_box.value = "#ffff00";
        }else if(bat_fig < 81){
            bat_prog.style.backgroundColor = "#80ff00";
            color_box.value = "#80ff00";
        }else if(bat_fig <= 100){
            bat_prog.style.backgroundColor = "#00ff00";
            color_box.value = "#00ff00";
        }
    })


</script>


<script src="https://kit.fontawesome.com/49d0ed2e0e.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"></script>

<script>
    const body = document.querySelector('body');
    const modal = document.querySelector('.modal');
    const btnOpenPopup = document.querySelector('.btn-open-popup');
    const cancel = document.querySelector('.cancel');

    btnOpenPopup.addEventListener('click', () => {
      modal.classList.toggle('show');

      if (modal.classList.contains('show')) {
        body.style.overflow = 'hidden';
      }
    });

    modal.addEventListener('click', (event) => {
      //modal.classList.toggle('show');

      if (!modal.classList.contains('show')) {
        body.style.overflow = 'auto';
      }
    });

    cancel.addEventListener('click', () => {
      modal.classList.toggle('show');
    });


</script>

</body>

</html>